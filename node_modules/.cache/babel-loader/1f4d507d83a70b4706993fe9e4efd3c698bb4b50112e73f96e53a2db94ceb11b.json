{"ast":null,"code":"import _toConsumableArray from \"/Users/davidsantos/Documents/ilercon/Users/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport pointerScroll from \"./pointerScroll\";\nexport default {\n  props: {\n    value: {\n      required: true\n    },\n    name: {\n      type: String,\n      required: false,\n      \"default\": function _default() {\n        return \"\";\n      }\n    },\n    options: {\n      type: Array,\n      required: false,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    optionLabel: {\n      type: String,\n      required: false,\n      \"default\": function _default() {\n        return null;\n      }\n    },\n    optionKey: {\n      type: String,\n      required: false,\n      \"default\": function _default() {\n        return null;\n      }\n    },\n    placeholder: {\n      type: String,\n      required: false,\n      \"default\": function _default() {\n        return \"Search Here\";\n      }\n    },\n    maxHeight: {\n      type: String,\n      \"default\": function _default() {\n        return \"220px\";\n      },\n      required: false\n    },\n    inputId: {\n      type: String,\n      \"default\": function _default() {\n        return \"single-select\";\n      },\n      required: false\n    },\n    classes: {\n      type: Object,\n      required: false,\n      \"default\": function _default() {\n        return {\n          pointer: -1,\n          wrapper: \"single-select-wrapper\",\n          input: \"search-input\",\n          icons: \"icons\",\n          required: \"required\",\n          activeClass: \"active\",\n          dropdown: \"dropdown\"\n        };\n      }\n    },\n    initial: {\n      type: String,\n      required: false,\n      \"default\": function _default() {\n        return null;\n      }\n    },\n    disabled: {\n      type: Boolean,\n      required: false,\n      \"default\": function _default() {\n        return false;\n      }\n    },\n    required: {\n      type: Boolean,\n      required: false,\n      \"default\": function _default() {\n        return false;\n      }\n    },\n    maxResults: {\n      type: Number,\n      required: false,\n      \"default\": function _default() {\n        return 30;\n      }\n    },\n    tabindex: {\n      type: String,\n      required: false,\n      \"default\": function _default() {\n        return \"\";\n      }\n    },\n    getOptionDescription: {\n      type: Function,\n      \"default\": function _default(option) {\n        if (this.optionKey && this.optionLabel) {\n          return option[this.optionKey] + \" \" + option[this.optionLabel];\n        }\n        if (this.optionLabel) {\n          return option[this.optionLabel];\n        }\n        if (this.optionKey) {\n          return option[this.optionKey];\n        }\n        return option;\n      }\n    },\n    getOptionValue: {\n      type: Function,\n      \"default\": function _default(option) {\n        if (this.optionKey) {\n          return option[this.optionKey];\n        }\n        if (this.optionLabel) {\n          return option[this.optionLabel];\n        }\n        return option;\n      }\n    },\n    filterBy: {\n      type: Function,\n      \"default\": function _default(option) {\n        if (this.optionLabel && this.optionKey) {\n          return option[this.optionLabel].toString().toLowerCase().includes(this.searchText.toString().toLowerCase()) || option[this.optionKey].toString().toLowerCase().includes(this.searchText.toString().toLowerCase());\n        }\n        if (this.optionLabel) {\n          return option[this.optionLabel].toString().toLowerCase().includes(this.searchText.toString().toLowerCase());\n        }\n        if (this.optionKey) {\n          option[this.optionKey].toString().toLowerCase().includes(this.searchText.toString().toLowerCase());\n        }\n        return option.toString().toLowerCase().includes(this.searchText.toString().toLowerCase());\n      }\n    }\n  },\n  mixins: [pointerScroll],\n  mounted: function mounted() {\n    document.addEventListener(\"click\", this.handleClickOutside);\n    document.addEventListener(\"keyup\", this.handleClickOutside);\n    if (this.value && this.options.includes(this.value)) {\n      this.selectedOption = this.value;\n      return;\n    }\n    this.searchText = this.initial;\n  },\n  destroyed: function destroyed() {\n    document.removeEventListener(\"keyup\", this.handleClickOutside);\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  data: function data() {\n    return {\n      searchText: null,\n      selectedOption: null,\n      dropdownOpen: false\n    };\n  },\n  watch: {\n    value: function value(curr, prev) {\n      this.selectedOption = curr;\n    },\n    searchText: function searchText(curr, prev) {\n      if (curr !== prev) {\n        this.pointer = -1;\n      }\n    },\n    selectedOption: function selectedOption(curr, prev) {\n      this.$emit(\"input\", curr);\n    },\n    dropdownOpen: function dropdownOpen(curr, prev) {\n      var _this = this;\n      if (curr === prev) {\n        return;\n      }\n      if (!curr) {\n        this.searchText = null;\n        return;\n      }\n      if (!this.searchText) {\n        this.searchText = \"\";\n      }\n      this.$nextTick().then(function () {\n        _this.$refs.search.focus();\n      });\n    }\n  },\n  computed: {\n    isRequired: function isRequired() {\n      if (!this.required) {\n        return \"\";\n      }\n      if (this.selectedOption) {\n        return \"\";\n      }\n      return \"required\";\n    },\n    matchingOptions: function matchingOptions() {\n      var _this2 = this;\n      if (this.searchText === null) {\n        return null;\n      }\n      if (!this.searchText.length) {\n        return _toConsumableArray(this.options).slice(0, this.maxResults);\n      }\n      return this.options.filter(function (option) {\n        return _this2.filterBy(option);\n      }).slice(0, this.maxResults);\n    }\n  },\n  methods: {\n    setPointerIdx: function setPointerIdx(idx) {\n      this.pointer = idx;\n    },\n    seedSearchText: function seedSearchText() {\n      if (this.searchText !== null) {\n        return;\n      }\n      this.searchText = \"\";\n    },\n    switchToSearch: function switchToSearch(event) {\n      this.$refs.selectedValue.value = null;\n      this.searchText = event.target.value;\n      this.selectedOption = null;\n      this.dropdownOpen = true;\n    },\n    toggleDropdown: function toggleDropdown() {\n      if (this.disabled) {\n        return;\n      }\n      this.dropdownOpen = !this.dropdownOpen;\n    },\n    closeOut: function closeOut() {\n      this.selectedOption = null;\n      this.dropdownOpen = false;\n      this.searchText = null;\n    },\n    movePointerDown: function movePointerDown() {\n      if (!this.matchingOptions) {\n        return;\n      }\n      if (this.pointer >= this.matchingOptions.length - 1) {\n        return;\n      }\n      this.pointer++;\n    },\n    movePointerUp: function movePointerUp() {\n      if (this.pointer > 0) {\n        this.pointer--;\n      }\n    },\n    setOption: function setOption() {\n      var _this3 = this;\n      if (!this.matchingOptions || !this.matchingOptions.length) {\n        return;\n      }\n      if (this.pointer === -1) {\n        this.pointer++;\n      }\n      this.selectedOption = this.matchingOptions[this.pointer];\n      this.searchText = null;\n      this.dropdownOpen = false;\n      this.pointer = -1;\n      this.$nextTick().then(function () {\n        _this3.$refs.match.focus();\n      });\n    },\n    handleClickOutside: function handleClickOutside(e) {\n      if (this.$el.contains(e.target) || e.target.id === this.inputId) {\n        return;\n      }\n      this.dropdownOpen = false;\n      this.searchText = null;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["pointerScroll","props","value","required","name","type","String","options","Array","optionLabel","optionKey","placeholder","maxHeight","inputId","classes","Object","pointer","wrapper","input","icons","activeClass","dropdown","initial","disabled","Boolean","maxResults","Number","tabindex","getOptionDescription","Function","option","getOptionValue","filterBy","toString","toLowerCase","includes","searchText","mixins","mounted","document","addEventListener","handleClickOutside","selectedOption","destroyed","removeEventListener","data","dropdownOpen","watch","curr","prev","$emit","$nextTick","then","$refs","search","focus","computed","isRequired","matchingOptions","length","slice","filter","methods","setPointerIdx","idx","seedSearchText","switchToSearch","event","selectedValue","target","toggleDropdown","closeOut","movePointerDown","movePointerUp","setOption","match","e","$el","contains","id"],"sourceRoot":"","sources":["/Users/davidsantos/Documents/ilercon/Users/node_modules/vue-single-select/dist/VueSingleSelect.vue"],"sourcesContent":["<template>\n  <div ref=\"vuesingleselect\">\n    <div v-if=\"!selectedOption\" :class=\"classes.wrapper\">\n      <div class=\"relative inline-block w-full\">\n        <input\n          ref=\"search\"\n          :disabled=\"disabled\"\n          :class=\"[classes.input, isRequired]\"\n          :id=\"inputId\"\n          @focus=\"seedSearchText\"\n          @keydown.enter.prevent=\"setOption\"\n          @keyup.enter.prevent=\"setOption\"\n          @keyup.down=\"movePointerDown\"\n          @keyup.tab.stop=\"closeOut\"\n          @keyup.esc.stop=\"closeOut\"\n          @keyup.up=\"movePointerUp\"\n          :placeholder=\"placeholder\"\n          autocomplete=\"off\"\n          :required=\"required\"\n          v-model=\"searchText\"\n        />\n\n        <div\n          @click=\"toggleDropdown\"\n          :class=\"[classes.icons]\"\n          class=\"cursor-pointer absolute flex items-center\"\n        >\n          <svg v-if=\"!dropdownOpen\" aria-hidden=\"true\" viewBox=\"0 0 448 512\">\n            <path\n              d=\"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z\"\n            />\n          </svg>\n          <svg v-else aria-hidden=\"true\" viewBox=\"0 0 448 512\">\n            <path\n              d=\"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z\"\n            />\n          </svg>\n        </div>\n\n        <ul\n          tabindex=\"-1\"\n          ref=\"options\"\n          v-if=\"matchingOptions\"\n          :style=\"{'max-height': maxHeight}\"\n          style=\"z-index: 100;padding\"\n          :class=\"[classes.dropdown]\"\n          class=\"absolute w-full overflow-auto appearance-none mt-px list-reset\"\n        >\n          <li\n            tabindex=\"-1\"\n            v-for=\"(option, idx) in matchingOptions\"\n            :key=\"idx\"\n            :class=\"idx === pointer ? classes.activeClass : ''\"\n            class=\"cursor-pointer outline-none\"\n            @mouseover=\"setPointerIdx(idx)\"\n            @keyup.enter=\"setOption\"\n            @keyup.up=\"movePointerUp\"\n            @keyup.down=\"movePointerDown\"\n            @click.prevent=\"setOption\"\n          >\n            <slot name=\"option\" v-bind=\"{option,idx}\">{{ getOptionDescription(option) }}</slot>\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div :class=\"classes.wrapper\" v-if=\"selectedOption\">\n      <input\n        :id=\"inputId\"\n        :class=\"[classes.input]\"\n        ref=\"match\"\n        :required=\"required\"\n        @input=\"switchToSearch($event)\"\n        :value=\"getOptionDescription(selectedOption)\"\n      />\n      <input type=\"hidden\" :name=\"name\" ref=\"selectedValue\" :value=\"getOptionValue(selectedOption)\" />\n\n      <div class=\"flex absolute items-center\" :class=\"classes.icons\">\n        <svg aria-hidden=\"true\" @click=\"closeOut\" class=\"cursor-pointer\" viewBox=\"0 0 512 512\">\n          <path\n            d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\"\n          />\n        </svg>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport pointerScroll from \"./pointerScroll\";\nexport default {\n  props: {\n    value: {\n      required: true\n    },\n    name: {\n      type: String,\n      required: false,\n      default: () => \"\"\n    },\n    options: {\n      type: Array,\n      required: false,\n      default: () => []\n    },\n    optionLabel: {\n      type: String,\n      required: false,\n      default: () => null\n    },\n    optionKey: {\n      type: String,\n      required: false,\n      default: () => null\n    },\n    placeholder: {\n      type: String,\n      required: false,\n      default: () => \"Search Here\"\n    },\n    maxHeight: {\n      type: String,\n      default: () => \"220px\",\n      required: false\n    },\n    inputId: {\n      type: String,\n      default: () => \"single-select\",\n      required: false\n    },\n    classes: {\n      type: Object,\n      required: false,\n      default: () => {\n        return {\n          pointer: -1,\n          wrapper: \"single-select-wrapper\",\n          input: \"search-input\",\n          icons: \"icons\",\n          required: \"required\",\n          activeClass: \"active\",\n          dropdown: \"dropdown\"\n        };\n      }\n    },\n    initial: {\n      type: String,\n      required: false,\n      default: () => null\n    },\n    disabled: {\n      type: Boolean,\n      required: false,\n      default: () => false\n    },\n    required: {\n      type: Boolean,\n      required: false,\n      default: () => false\n    },\n    maxResults: {\n      type: Number,\n      required: false,\n      default: () => 30\n    },\n    tabindex: {\n      type: String,\n      required: false,\n      default: () => {\n        return \"\";\n      }\n    },\n    getOptionDescription: {\n      type: Function,\n      default: function(option) {\n        if (this.optionKey && this.optionLabel) {\n          return option[this.optionKey] + \" \" + option[this.optionLabel];\n        }\n        if (this.optionLabel) {\n          return option[this.optionLabel];\n        }\n        if (this.optionKey) {\n          return option[this.optionKey];\n        }\n        return option;\n      }\n    },\n    getOptionValue: {\n      type: Function,\n      default: function(option) {\n        if (this.optionKey) {\n          return option[this.optionKey];\n        }\n\n        if (this.optionLabel) {\n          return option[this.optionLabel];\n        }\n\n        return option;\n      }\n    },\n    filterBy: {\n      type: Function,\n      default: function(option) {\n        if (this.optionLabel && this.optionKey) {\n          return (\n            option[this.optionLabel]\n              .toString()\n              .toLowerCase()\n              .includes(this.searchText.toString().toLowerCase()) ||\n            option[this.optionKey]\n              .toString()\n              .toLowerCase()\n              .includes(this.searchText.toString().toLowerCase())\n          );\n        }\n\n        if (this.optionLabel) {\n          return option[this.optionLabel]\n            .toString()\n            .toLowerCase()\n            .includes(this.searchText.toString().toLowerCase());\n        }\n\n        if (this.optionKey) {\n          option[this.optionKey]\n            .toString()\n            .toLowerCase()\n            .includes(this.searchText.toString().toLowerCase());\n        }\n\n        return option\n          .toString()\n          .toLowerCase()\n          .includes(this.searchText.toString().toLowerCase());\n      }\n    }\n  },\n  mixins: [pointerScroll],\n  mounted() {\n    document.addEventListener(\"click\", this.handleClickOutside);\n    document.addEventListener(\"keyup\", this.handleClickOutside);\n    if (this.value && this.options.includes(this.value)) {\n      this.selectedOption = this.value;\n      return;\n    }\n    this.searchText = this.initial;\n  },\n  destroyed() {\n    document.removeEventListener(\"keyup\", this.handleClickOutside);\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  data() {\n    return {\n      searchText: null,\n      selectedOption: null,\n      dropdownOpen: false\n    };\n  },\n  watch: {\n    value(curr, prev) {\n      this.selectedOption = curr;\n    },\n    searchText(curr, prev) {\n      if (curr !== prev) {\n        this.pointer = -1;\n      }\n    },\n    selectedOption(curr, prev) {\n      this.$emit(\"input\", curr);\n    },\n    dropdownOpen(curr, prev) {\n      if (curr === prev) {\n        return;\n      }\n\n      if (!curr) {\n        this.searchText = null;\n        return;\n      }\n\n      if (!this.searchText) {\n        this.searchText = \"\";\n      }\n\n      this.$nextTick().then(() => {\n        this.$refs.search.focus();\n      });\n    }\n  },\n  computed: {\n    isRequired() {\n      if (!this.required) {\n        return \"\";\n      }\n\n      if (this.selectedOption) {\n        return \"\";\n      }\n\n      return \"required\";\n    },\n    matchingOptions() {\n      if (this.searchText === null) {\n        return null;\n      }\n      if (!this.searchText.length) {\n        return [...this.options].slice(0, this.maxResults);\n      }\n\n      return this.options\n        .filter(option => this.filterBy(option))\n        .slice(0, this.maxResults);\n    }\n  },\n  methods: {\n    setPointerIdx(idx) {\n      this.pointer = idx;\n    },\n    seedSearchText() {\n      if (this.searchText !== null) {\n        return;\n      }\n\n      this.searchText = \"\";\n    },\n    switchToSearch(event) {\n      this.$refs.selectedValue.value = null;\n      this.searchText = event.target.value;\n      this.selectedOption = null;\n      this.dropdownOpen = true;\n    },\n    toggleDropdown() {\n      if (this.disabled) {\n        return;\n      }\n      this.dropdownOpen = !this.dropdownOpen;\n    },\n    closeOut() {\n      this.selectedOption = null;\n      this.dropdownOpen = false;\n      this.searchText = null;\n    },\n    movePointerDown() {\n      if (!this.matchingOptions) {\n        return;\n      }\n      if (this.pointer >= this.matchingOptions.length - 1) {\n        return;\n      }\n\n      this.pointer++;\n    },\n    movePointerUp() {\n      if (this.pointer > 0) {\n        this.pointer--;\n      }\n    },\n    setOption() {\n      if (!this.matchingOptions || !this.matchingOptions.length) {\n        return;\n      }\n      if (this.pointer === -1) {\n        this.pointer++;\n      }\n\n      this.selectedOption = this.matchingOptions[this.pointer];\n      this.searchText = null;\n      this.dropdownOpen = false;\n      this.pointer = -1;\n      this.$nextTick().then(() => {\n        this.$refs.match.focus();\n      });\n    },\n    handleClickOutside(e) {\n      if (this.$el.contains(e.target) || e.target.id === this.inputId) {\n        return;\n      }\n\n      this.dropdownOpen = false;\n      this.searchText = null;\n    }\n  }\n};\n</script>\n<style scoped>\n.w-full {\n  width: 100%;\n}\n.inline-block {\n  display: inline-block;\n}\n.block {\n  display: block;\n}\n.flex {\n  display: flex;\n}\n.border {\n  border-width: thin;\n  border-style: solid;\n}\n.rounded {\n  border-radius: 0.25em;\n}\n.text-black {\n  color: #22292f;\n}\n.border-grey-lighter {\n  border-color: #ced4da;\n}\n.bg-grey-lighter {\n  background-color: #606f7b;\n}\n.bg-grey-light {\n  background-color: #dae1e7;\n}\n.bg-grey-dark {\n  background-color: #8795a1;\n}\n.bg-white {\n  background-color: #fff;\n}\n.pin-r {\n  right: 0;\n}\n.pin-y {\n  top: 0;\n  bottom: 0;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.items-center {\n  align-items: center;\n}\n.p-0 {\n  padding: 0;\n}\n.p-1 {\n  padding: 0.25em;\n}\n.px-1 {\n  padding-left: 0.25em;\n  padding-right: 0.25em;\n}\n.py-2 {\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n}\n.px-2 {\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n}\n.mt-px {\n  margin-top: 1px;\n}\n.leading-tight {\n  line-height: 1.25;\n}\n.leading-normal {\n  line-height: 1.5;\n}\n.text-left {\n  text-align: left;\n}\n.w-full {\n  width: 100%;\n}\n.shadow {\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n}\n.list-reset {\n  list-style: none;\n  padding: 0;\n}\n.overflow-auto {\n  overflow: auto;\n}\n.appearance-none {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n.w-1 {\n  width: 0.25em;\n}\n.w-2 {\n  width: 0.5em;\n}\n.w-3 {\n  width: 0.75em;\n}\n.w-4 {\n  width: 1em;\n}\n.h-4 {\n  height: 1em;\n}\n.h-1 {\n  height: 0.25em;\n}\n.h-2 {\n  height: 0.5em;\n}\n.h-3 {\n  height: 0.75em;\n}\n.fill-current {\n  fill: currentColor;\n}\n.no-underline {\n  text-decoration: none;\n}\n.hover\\:no-underline:hover {\n  text-decoration: none;\n}\n.outline-none {\n  outline: 0;\n}\n.hover\\:outline-none {\n  outline: 0;\n}\n.hover\\:bg-grey-light:hover {\n  background-color: #dae1e7;\n}\n.shadow-md {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.08);\n}\n.search-input {\n  display: block;\n  width: 100%;\n  padding: 0.375em 0.75em;\n  font-size: 1em;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: 0.25em;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  box-sizing: border-box;\n}\n.icons {\n  padding: 0 1em;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  fill: #606f7b;\n}\n.icons svg {\n  width: 0.75em;\n  height: 0.75em;\n}\n.single-select-wrapper {\n  position: relative;\n  margin-bottom: 0.5em;\n}\n.required {\n  _color: #721c24;\n  _background-color: #f8d7da;\n  border-color: #f5c6cb;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.dropdown {\n  -webkit-box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12),\n    0 2px 4px 0 rgba(0, 0, 0, 0.08);\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.08);\n  background-color: #fff;\n  color: #606f7b;\n  border-radius: 0.25em;\n  line-height: 1.25;\n  text-align: left;\n}\n.dropdown > li {\n  padding: 0.5em 0.75em;\n}\n.active {\n  background: #dae1e7;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}